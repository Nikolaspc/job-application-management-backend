spring:
  profiles:
    active: dev
  application:
    name: job-application-backend

  # English: Vault Configuration
  # This setup integrates with HashiCorp Vault to fetch secrets at runtime.
  # In Production, if Vault is unreachable or secrets are missing, the app will fail to start.
  cloud:
    vault:
      enabled: true
      uri: ${VAULT_URI:http://localhost:8200}
      authentication: TOKEN
      token: ${VAULT_TOKEN:root}
      kv:
        enabled: true
        backend: secret
        default-context: job-application-backend

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/job_application_db}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    # English: Password fetched from Vault (spring.datasource.password)
    password: ${SPRING_DATASOURCE_PASSWORD:postgres}

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false
    hibernate:
      ddl-auto: none

app:
  jwt:
    # English: The JWT secret is mandatory.
    # It should be stored in Vault as 'app.jwt.secret'.
    # If not present in Vault, it looks for an Environment Variable 'APP_JWT_SECRET'.
    secret: ${APP_JWT_SECRET}
    expiration: ${APP_JWT_EXPIRATION:86400}

  security:
    cors:
      allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000}